import{s as a,v as c,a as u,p as L}from"./vendor.17886e8c.js";const v=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerpolicy&&(i.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?i.credentials="include":e.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}};v();const $="modulepreload",h={},w="/",d=function(t,s){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=`${w}${r}`,r in h)return;h[r]=!0;const e=r.endsWith(".css"),i=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const n=document.createElement("link");if(n.rel=e?"stylesheet":$,e||(n.as="script",n.crossOrigin=""),n.href=r,document.head.appendChild(n),e)return new Promise((p,g)=>{n.addEventListener("load",p),n.addEventListener("error",g)})})).then(()=>t())},m="en",b=navigator.language||navigator.userLanguage,l=b.split("-")[0].toLowerCase()||m,f=location.pathname.replace(/\//g,"")||m;var P=()=>{if(!sessionStorage||sessionStorage.redirected)return;const o=l==="ru"||l==="rus"||l==="by"||l==="uk";if(sessionStorage.redirected=!0,f!=="ru"&&o)return location.pathname="/ru/",!0;if(f!=="en"&&!o)return location.pathname="/",!0};const y=["last 4 version"],x=`.example {
  display: grid;
  transition: all .5s;
  user-select: none;
  background: linear-gradient(to bottom, white, black);
}
`;class S{constructor(){P()||this.loadChunks()}async loadChunks(){const t=[d(()=>import("./postcss.28b89ab2.js").then(function(e){return e.p}),["assets/postcss.28b89ab2.js","assets/vendor.17886e8c.js"]),d(()=>import("./autoprefixer.311035da.js").then(function(e){return e.a}),["assets/autoprefixer.311035da.js","assets/postcss.28b89ab2.js","assets/vendor.17886e8c.js"])],[s,r]=await Promise.all(t);this.postcss=s.default,this.autoprefixer=r.default,this.vars(),this.init()}vars(){this.browserList=a.get("autoprefixer:browsers",y),this.withComments=a.get("autoprefixer:withComments",!0),this.$leftPane=document.querySelector(".js-input"),this.$rightPane=document.querySelector(".js-output"),this.$filterForm=document.querySelector(".js-filter"),this.$textFilter=document.querySelector(".js-browsers-filter"),this.$browserListLink=document.querySelector(".js-link-browserlist"),this.$selectButton=document.querySelector(".js-select"),this.$version=document.querySelector(".js-version"),this.$comment=document.querySelector(".js-comment")}init(){this.$textFilter.value=this.browserList.join(", "),this.$leftPane.innerHTML=x,this.$leftPane.focus(),this.$comment.checked=this.withComments,this.listeners(),this.updateBrowserListLink(),this.runPrefixer(),this.addVersion()}addVersion(){this.$version.innerHTML=`Postcss: <strong>v${c}</strong>, autoprefixer: <strong>v${u}</strong>`}generateOutputComment(){return`/*
* Prefixed by https://autoprefixer.github.io
* PostCSS: v${c},
* Autoprefixer: v${u}
* Browsers: ${this.browserList}
*/

`}listeners(){this.$leftPane.addEventListener("keyup",this.runPrefixer.bind(this),!1),this.$filterForm.addEventListener("submit",this.filterUpdate.bind(this),!1),this.$selectButton.addEventListener("click",this.selectResult.bind(this),!1),this.$textFilter.addEventListener("keyup",this.updateBrowserListLink.bind(this),!1),this.$comment.addEventListener("change",this.toggleComment.bind(this),!1)}runPrefixer(){const t=this.$leftPane.value,s={overrideBrowserslist:this.browserList,grid:"autoplace"};this.postcss([this.autoprefixer(s)]).process(t).then(r=>{let e="";this.withComments&&(e+=this.generateOutputComment()),e+=this.textPrepare(r.css),this.$rightPane.innerHTML=e,L.exports.highlightElement(this.$rightPane)}).catch(r=>{console.log(r),this.$rightPane.innerHTML=this.textPrepare(r.toString())})}textPrepare(t=""){return t.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")}filterUpdate(t){t.preventDefault();const r=this.$textFilter.value.split(",").map(i=>i.trim()),e=r.length?r:DEFAULT_SETTINGS;this.browserList=e,a.set("autoprefixer:browsers",e),this.runPrefixer()}toggleComment(t){const{checked:s}=t.target;this.runPrefixer(),this.withComments=s,a.set("autoprefixer:withComments",s)}selectResult(){if(document.createRange){var t,s;t=document.createRange(),t.selectNode&&t.selectNode(this.$rightPane),s=window.getSelection(),s.removeAllRanges(),s.addRange(t)}else if(document.body&&document.body.createTextRange){var t;t=document.body.createTextRange(),t.moveToElementText(this.$rightPane),t.select()}}updateBrowserListLink(){this.$browserListLink.href=`https://browserl.ist/?q=${encodeURI(this.$textFilter.value)}`}}new S;
